{"remainingRequest":"D:\\Projects-Vue\\Wyy\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects-Vue\\Wyy\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Projects-Vue\\Wyy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Projects-Vue\\Wyy\\src\\components\\Play.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Projects-Vue\\Wyy\\src\\components\\Play.vue","mtime":1663663460455},{"path":"D:\\Projects-Vue\\Wyy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653963798725},{"path":"D:\\Projects-Vue\\Wyy\\node_modules\\babel-loader\\lib\\index.js","mtime":1653963802592},{"path":"D:\\Projects-Vue\\Wyy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653963798725},{"path":"D:\\Projects-Vue\\Wyy\\node_modules\\vue-loader\\lib\\index.js","mtime":1653963801905}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Bus from \"../Bus.js\";\nimport openBtn from \"../icons/openBtn\";\nimport NextImgUrl from '@/assets/Next.svg';\nimport UpperImgUrl from '@/assets/Upper.svg';\nexport default {\n  name: 'Play',\n  props: ['play'],\n  components: {\n    openBtn: openBtn\n  },\n  data: function data() {\n    return {\n      song: {\n        al: ''\n      },\n      slider: 0,\n      timer: {\n        s: \"00:00\",\n        e: \"00:00\"\n      },\n      NextImgUrl: NextImgUrl,\n      UpperImgUrl: UpperImgUrl\n    };\n  },\n  mounted: function mounted() {\n    var main = this;\n\n    if (!this.$parent.audio) {\n      this.$router.go(-1);\n      return false;\n    }\n\n    Bus.$on(\"song\", function (song) {\n      main.song = song;\n    });\n    var playlistID = localStorage.playlistID;\n    var playlist = localStorage.getItem(\"playlist\" + playlistID);\n\n    if (playlist) {\n      playlist = JSON.parse(playlist);\n      var time = playlist[0].time;\n      this.playlist = playlist;\n      this.$parent.playlist = playlist;\n      var playsongID = localStorage.playsongID;\n\n      for (var i in playlist) {\n        if (playlist[i].id == playsongID) {\n          this.$parent.playlist[0].index = i;\n          break;\n        }\n      }\n    }\n\n    var id = localStorage.playsongID;\n    var index = this.$parent.playlist[0].index;\n    if (id == undefined) return false;\n    this.user = JSON.parse(localStorage.user);\n    Bus.$emit('playing', id);\n    this.$parent.play = !this.$parent.audio.paused;\n    this.axios.get(this.ApiURl + '/song/detail', {\n      params: {\n        ids: id,\n        cookie: this.user.cookie\n      }\n    }).then(function (res) {\n      main.song = res.data.songs[0];\n      Bus.$emit('song', main.song);\n      var time = new Date(main.song.dt);\n      var M = time.getMinutes();\n      var S = time.getSeconds();\n      M = M < 10 ? \"0\" + M : M;\n      S = S < 10 ? \"0\" + S : S;\n      main.timer.e = M + ':' + S;\n\n      if (localStorage.playsongID == window.playsongID) {\n        return false;\n      }\n\n      main.axios.get(main.ApiURl + '/song/url', {\n        params: {\n          id: id,\n          cookie: main.user.cookie\n        }\n      }).then(function (res) {\n        localStorage.playsongID = id;\n        window.playsongID = id;\n        main.$parent.play = true;\n        main.$parent.audio.src = res.data.data[0].url;\n        localStorage.setItem(\"played\", JSON.stringify(main.song));\n      });\n    });\n  },\n  methods: {\n    sliderFun: function sliderFun() {\n      //滑动条触发时执行\n      var slider = this.slider * this.song.dt / 100000;\n      this.$parent.audio.currentTime = slider;\n      this.isChange = false;\n    },\n    durationUpdate: function durationUpdate() {\n      //根据播放进度更改滑动条\n      if (this.isChange === true) {\n        return false;\n      }\n\n      var cTime = Math.floor(this.$parent.audio.currentTime);\n      this.slider = cTime / (this.song.dt / 1000) * 100;\n    },\n    sliderTimer: function sliderTimer() {\n      var cTime = this.song.dt * this.slider / 100000;\n      if (isNaN(cTime)) return;\n      cTime = Math.round(cTime);\n      var S = cTime % 60;\n      var M = Math.round(cTime / 60);\n      S = S < 10 ? '0' + S : S;\n      M = M < 10 ? '0' + M : M;\n      this.timer.s = M + \":\" + S;\n    },\n    audioPlay: function audioPlay() {\n      var paused = this.$parent.audio.paused;\n\n      if (paused) {\n        this.$parent.audio.play();\n      } else {\n        this.$parent.audio.pause();\n      }\n\n      this.$parent.play = paused;\n      this.song.play = paused;\n    },\n    songSwitch: function songSwitch(toggle) {\n      var playlist = this.$parent.playlist;\n      var index = playlist[0].index;\n\n      if (toggle) {\n        index++;\n\n        if (index == playlist.length) {\n          index = 0;\n        }\n\n        if (playlist[index].noCopyrightRcmd) {\n          index++;\n        }\n      } else {\n        index--;\n\n        if (index == -1) {\n          index = playlist.length - 1;\n        }\n\n        if (playlist[index].noCopyrightRcmd) {\n          index--;\n        }\n      }\n\n      playlist[0].index = index;\n      var main = this;\n      this.axios.get(this.ApiURl + '/song/detail', {\n        params: {\n          ids: playlist[index].id,\n          cookie: this.user.cookie\n        }\n      }).then(function (res) {\n        main.song = res.data.songs[0];\n        Bus.$emit('song', main.song);\n        var time = new Date(main.song.dt);\n        var M = time.getMinutes();\n        var S = time.getSeconds();\n        M = M < 10 ? \"0\" + M : M;\n        S = S < 10 ? \"0\" + S : S;\n        main.timer.e = M + ':' + S;\n        main.axios.get(main.ApiURl + '/song/url', {\n          params: {\n            id: playlist[index].id,\n            cookie: main.user.cookie\n          }\n        }).then(function (res) {\n          window.playsongID = playlist[index].id;\n          localStorage.playsongID = playlist[index].id;\n          main.$parent.play = true;\n          main.$parent.audio.src = res.data.data[0].url;\n          localStorage.setItem(\"played\", JSON.stringify(main.song));\n        });\n      });\n    },\n    ChangeFun: function ChangeFun(b) {\n      this.isChange = b;\n    }\n  }\n};",{"version":3,"sources":["Play.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"play\">\r\n        <div class=\"cover\">\r\n\t\t\t<img :src=\"song.al.picUrl\" >\r\n        </div>\r\n\t\t<div class=\"name\">\r\n\t\t\t<p v-text=\"song.name\"></p>\r\n\t\t</div>\r\n        <div class=\"slider\"\r\n            @mousedown=\"ChangeFun(true)\"\r\n            @touchstart=\"ChangeFun(true)\"\r\n            >\r\n            <el-slider\r\n                v-model=\"slider\"\r\n                @change=\"sliderFun\"\r\n                @input=\"sliderTimer\"\r\n                :show-tooltip=\"false\" ></el-slider>\r\n        </div>\r\n        <div class=\"timer\">\r\n            <span>{{timer.s}}</span> / <span>{{timer.e}}</span>\r\n        </div>\r\n        <div class=\"playBtn\">\r\n\t\t\t<div class=\"songBtn\" @click=\"songSwitch(false)\">\r\n\t\t\t\t<img :src=\"UpperImgUrl\">\r\n\t\t\t</div>\r\n            <openBtn @click.native=\"audioPlay\" :isBtn=\"$parent.play\"></openBtn>\r\n\t\t\t<div class=\"songBtn\" @click=\"songSwitch(true)\">\r\n\t\t\t\t<img :src=\"NextImgUrl\">\r\n\t\t\t</div>\r\n        </div>\r\n    </div>\r\n    \n</template>\n\n<script>\r\n    import Bus from \"../Bus.js\"\r\n    import openBtn from '../icons/openBtn'\r\n    import NextImgUrl from '@/assets/Next.svg'\r\n    import UpperImgUrl from '@/assets/Upper.svg'\r\n    \r\n    export default{\r\n        name:'Play',\r\n        props:['play'],\r\n        components:{\r\n          openBtn,\r\n        },\r\n        data(){\r\n            return{\r\n                song:{al:''},\r\n                slider:0,\r\n                timer:{\r\n                    s:\"00:00\",\r\n                    e:\"00:00\"\r\n                },\r\n\t\t\t\tNextImgUrl,\r\n\t\t\t\tUpperImgUrl\r\n             }  \r\n        },\r\n        mounted() {\r\n            const main = this;\r\n            \r\n            if(!this.$parent.audio){\r\n                this.$router.go(-1)\r\n                return false\r\n            }\r\n            Bus.$on(\"song\",function(song){\r\n                main.song = song;\r\n            })\r\n            let playlistID = localStorage.playlistID;\r\n            let playlist = localStorage.getItem(\"playlist\"+playlistID);\r\n            if(playlist){\r\n                playlist = JSON.parse(playlist);\r\n                let time = playlist[0].time;\r\n                this.playlist = playlist;\r\n                this.$parent.playlist = playlist;\r\n                let playsongID = localStorage.playsongID;\r\n                for (let i in playlist) {\r\n                    if(playlist[i].id == playsongID){\r\n                        this.$parent.playlist[0].index = i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\t\t\t\r\n            let id = localStorage.playsongID;\r\n            let index = this.$parent.playlist[0].index;\r\n            if(id == undefined) return false;\r\n            \r\n            this.user = JSON.parse(localStorage.user)\r\n            Bus.$emit('playing',id);\r\n            \r\n            this.$parent.play = !this.$parent.audio.paused;\r\n            this.axios.get(this.ApiURl+'/song/detail',{\r\n                params:{\r\n                    ids:id,\r\n                    cookie:this.user.cookie\r\n                }\r\n            }).then(function(res){\r\n                main.song = res.data.songs[0];\r\n                Bus.$emit('song',main.song);\r\n                \r\n                let time = new Date(main.song.dt);\r\n                let M = time.getMinutes();\r\n                let S = time.getSeconds();\r\n                M = (M < 10) ? \"0\"+M : M;\r\n                S = (S < 10) ? \"0\"+S : S;\r\n                main.timer.e = M +':'+S;\r\n\t\t\t\t\r\n                if(localStorage.playsongID == window.playsongID) {\r\n\t\t\t\t\t return false;\r\n\t\t\t\t}\r\n                main.axios.get(main.ApiURl+'/song/url',{\r\n                    params:{\r\n                        id:id,\r\n                        cookie:main.user.cookie\r\n                    }\r\n                }).then(function(res){\r\n                    localStorage.playsongID = id;\r\n                    window.playsongID = id;\r\n                    main.$parent.play = true;\r\n                    main.$parent.audio.src = res.data.data[0].url;\r\n                    localStorage.setItem(\"played\",JSON.stringify(main.song));\r\n                })\r\n            })\r\n        },\r\n        methods:{\r\n            sliderFun(){//滑动条触发时执行\r\n                let slider = this.slider*this.song.dt/100000;\r\n                this.$parent.audio.currentTime = slider;\r\n                this.isChange = false;\r\n            },\r\n            durationUpdate(){//根据播放进度更改滑动条\r\n                if (this.isChange === true){\r\n                     return false;\r\n                }\r\n                let cTime = Math.floor(this.$parent.audio.currentTime);\r\n                this.slider = cTime/(this.song.dt/1000)*100;\r\n            },\r\n            sliderTimer(){\r\n                let cTime = this.song.dt*this.slider/100000;\r\n                if(isNaN(cTime)) return;\r\n                cTime = Math.round(cTime);\r\n                let S = cTime%60;\r\n                let M = Math.round(cTime/60);\r\n                S = (S < 10) ? '0' + S : S;\r\n                M = (M < 10) ? '0' + M : M;\r\n                this.timer.s = M+\":\"+S\r\n            },\r\n            audioPlay(){\r\n                let paused = this.$parent.audio.paused;\r\n                if(paused){\r\n                    this.$parent.audio.play();\r\n                }else{\r\n                    this.$parent.audio.pause();\r\n                }\r\n                this.$parent.play = paused;\r\n                this.song.play = paused;\r\n            },\r\n            songSwitch(toggle){\r\n                let playlist = this.$parent.playlist;\r\n                let index = playlist[0].index;\r\n                if(toggle){\r\n                    index++;\r\n                    if(index == playlist.length){\r\n                        index = 0;\r\n                    }\r\n                    if(playlist[index].noCopyrightRcmd){\r\n                        index++;\r\n                    }\r\n                }else{\r\n                    index--;\r\n                    if(index == -1){\r\n                        index = playlist.length-1;\r\n                    }\r\n                    if(playlist[index].noCopyrightRcmd){\r\n                        index--;\r\n                    }\r\n                }\r\n                playlist[0].index = index;\r\n                \r\n                const main = this;\r\n                this.axios.get(this.ApiURl+'/song/detail',{\r\n                    params:{\r\n                        ids:playlist[index].id,\r\n                        cookie:this.user.cookie\r\n                    }\r\n                }).then(function(res){\r\n                    main.song = res.data.songs[0];\r\n                    Bus.$emit('song',main.song);\r\n                    \r\n                    let time = new Date(main.song.dt);\r\n                    let M = time.getMinutes();\r\n                    let S = time.getSeconds();\r\n                    M = (M < 10) ? \"0\"+M : M;\r\n                    S = (S < 10) ? \"0\"+S : S;\r\n                    main.timer.e = M +':'+S\r\n                    \r\n                    main.axios.get(main.ApiURl+'/song/url',{\r\n                        params:{\r\n                            id:playlist[index].id, \r\n                            cookie:main.user.cookie\r\n                        }\r\n                    }).then(function(res){\r\n                        window.playsongID = playlist[index].id;\r\n                        localStorage.playsongID = playlist[index].id;\r\n                        main.$parent.play = true;\r\n                        main.$parent.audio.src = res.data.data[0].url;\r\n                        localStorage.setItem(\"played\",JSON.stringify(main.song));\r\n                    })\r\n                })\r\n            },\r\n            ChangeFun(b){\r\n                this.isChange = b;\r\n            }\r\n        }\r\n    }\n</script>\n\n<style>\r\n    .play{\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n    }\r\n    \r\n    .play .cover{\r\n        position: relative;\r\n        z-index: 1;\r\n\t\twidth: 60%;\r\n\t\theight: 0;\r\n\t\tpadding-bottom: 60%;\r\n        margin: 10% auto;\r\n    }\r\n    .play .cover img{\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 5%;\r\n\t\tmargin: 0 auto;\r\n        box-shadow: 0 0 20px #aaaaaa;\r\n    }\r\n\t.name{\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n    .slider{\r\n        position: relative;\r\n        z-index: 1;\r\n    }\r\n    .el-slider .el-slider__runway{\r\n        height: 3px;\r\n        margin: 0;\r\n\t\tbackground-color: #f3f3f3;\r\n    }\r\n    .el-slider .el-slider__bar{\r\n        height: 3px;\r\n\t\tbackground-color: #333333;\r\n    }\r\n    .el-slider .el-slider__button{\r\n        width: 38px;\r\n        height: 38px;\r\n        border: none;\r\n        background-color: transparent;\r\n    }\r\n    .el-slider__button-wrapper{\r\n        top: -16px;\r\n    }\r\n    .timer{\r\n        position: relative;\r\n        z-index: 2;\r\n        margin: 10px 0;\r\n        text-align: center;\r\n        color: #0f0f0f;\r\n    }\r\n    \r\n    .playBtn{\r\n        position: absolute;\r\n        bottom: 10%;\r\n        z-index: 2;\r\n        width: 100%;\r\n\t\theight: 50px;\r\n        display: flex;\r\n        justify-content: space-around;\r\n        padding: 0 10%;\r\n        margin: 30px 0;\r\n        color: #FFF;\r\n    }\r\n    .playBtn .openBtn{\r\n        width: 50px;\r\n        height: 50px;\r\n    }\r\n    .playBtn .songBtn{\r\n\t\twidth: 40px;\r\n\t\theight: 100%;\r\n\t\tpadding: 15px 0;\r\n\t}\r\n    .playBtn .songBtn img{\r\n\t\tdisplay: block;\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n    \r\n    \r\n    .bgImg{\r\n        transform: scale(1.08);\r\n        position: absolute;\r\n        z-index: 0;\r\n        top: 0;\r\n        height: 100%;\r\n        filter: blur(10px);\r\n    }\r\n    \n</style>\n"],"sourceRoot":"src/components"}]}